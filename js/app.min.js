!function(e){var t=function(t){this.$el=e(t),this.$screenContainer=this.$el.find(".screens"),this.$screens=this.$screenContainer.children(".screen"),this.$thumbs=this.$el.find(".thumbs"),this.ratios={desktop:.727,tablet:1.328,phone:2.08},this.margin=160,this.width=this.$screenContainer.width(),this.thumbScale=.2,this.activeSlide="desktop"};t.prototype._getX=function(t,i){var s=(this.width-e(i).width()*this.thumbScale)/2;return"prev"==t?-s:s},t.prototype._moveSlide=function(e,t){var i="active"==t?1:this.thumbScale,s="active"==t?0:this._getX(t,e);console.log("moving slide",e,"to position",t),TweenLite.to(e,.5,{scale:i,x:s})},t.prototype.transitionSlides=function(e){for(var t in this.$screens){var i,s=this.$screens[t],n=s.hasClass("active")?"active":s.hasClass("next")?"next":"prev";i="active"==n&&"next"==e||"prev"==n&&"prev"==e?"next":"next"==n&&"next"==e||"active"==n&&"prev"==e?"prev":"active",this._moveSlide(s,i),s.removeClass(n).addClass(i)}},t.prototype.init=function(){var t=this.width-2*this.margin,i=this.$screenContainer.height(),s=this;console.log("container width",t,"container height",i);var n={};this.$screens.each(function(){var o=e(this),r=o.data("device"),a=s.ratios[r]>1?i:t*s.ratios[r],c=s.ratios[r]<1?t:i/s.ratios[r];o.css({height:a+"px",width:c+"px",left:t/2-c/2+s.margin+"px"}),n[r]=o,console.log("set screen",o[0],"width",c,"height",a)}),this.$screens=n,s._moveSlide(this.$screens.phone,"prev"),s._moveSlide(this.$screens.tablet,"next"),e(".slider-nav").on("click","a",function(t){t.preventDefault(),console.log("clicked slide nav"),e(this).hasClass("port-next")?(console.log("transitioning to next slide"),s.transitionSlides("next")):(console.log("transitioning to prev slide"),s.transitionSlides("prev"))})};var i=new t(".port-slider");i.init(),e(".troop-list").on("click",".trigger",function(t){t.preventDefault();var i=e(this),s=i.parent(),n=i.parents(".troop-list"),o=i.siblings(".profile-content");if(s.hasClass("active"))return s.removeClass("active"),void n.children("li").removeClass("inactive");n.children("li").not(s).removeClass("active").addClass("inactive"),s.removeClass("inactive").addClass("active");var r=s.position().top+s.outerHeight();o.css("top",r+"px")})}(jQuery);