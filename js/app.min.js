function stackBlurImage(e,t,i,a){var n=e,s=n.width,r=n.height,t=t;t.style.width=s+"px",t.style.height=r+"px",t.width=s,t.height=r;var o=t.getContext("2d");o.clearRect(0,0,s,r),o.drawImage(n,0,0,s,r),isNaN(i)||1>i||(a?stackBlurCanvasRGBA(t,0,0,s,r,i):stackBlurCanvasRGB(t,0,0,s,r,i))}function stackBlurCanvasRGBA(e,t,i,a,n,s){if(!(isNaN(s)||1>s)){s|=0;var r,e=e,o=e.getContext("2d");try{try{r=o.getImageData(t,i,a,n)}catch(l){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),r=o.getImageData(t,i,a,n)}catch(l){throw alert("Cannot access local image"),new Error("unable to access local image data: "+l)}}}catch(l){throw alert("Cannot access image"),new Error("unable to access image data: "+l)}var c,h,d,p,f,u,m,g,v,y,b,w,x,T,$,C,k,_,L,S,M,B,I,z,D=r.data,q=s+s+1,P=a-1,O=n-1,R=s+1,E=R*(R+1)/2,N=new BlurStack,A=N;for(d=1;q>d;d++)if(A=A.next=new BlurStack,d==R)var G=A;A.next=N;var U=null,j=null;m=u=0;var F=mul_table[s],H=shg_table[s];for(h=0;n>h;h++){for(C=k=_=L=g=v=y=b=0,w=R*(S=D[u]),x=R*(M=D[u+1]),T=R*(B=D[u+2]),$=R*(I=D[u+3]),g+=E*S,v+=E*M,y+=E*B,b+=E*I,A=N,d=0;R>d;d++)A.r=S,A.g=M,A.b=B,A.a=I,A=A.next;for(d=1;R>d;d++)p=u+((d>P?P:d)<<2),g+=(A.r=S=D[p])*(z=R-d),v+=(A.g=M=D[p+1])*z,y+=(A.b=B=D[p+2])*z,b+=(A.a=I=D[p+3])*z,C+=S,k+=M,_+=B,L+=I,A=A.next;for(U=N,j=G,c=0;a>c;c++)D[u+3]=I=b*F>>H,0!=I?(I=255/I,D[u]=(g*F>>H)*I,D[u+1]=(v*F>>H)*I,D[u+2]=(y*F>>H)*I):D[u]=D[u+1]=D[u+2]=0,g-=w,v-=x,y-=T,b-=$,w-=U.r,x-=U.g,T-=U.b,$-=U.a,p=m+((p=c+s+1)<P?p:P)<<2,C+=U.r=D[p],k+=U.g=D[p+1],_+=U.b=D[p+2],L+=U.a=D[p+3],g+=C,v+=k,y+=_,b+=L,U=U.next,w+=S=j.r,x+=M=j.g,T+=B=j.b,$+=I=j.a,C-=S,k-=M,_-=B,L-=I,j=j.next,u+=4;m+=a}for(c=0;a>c;c++){for(k=_=L=C=v=y=b=g=0,u=c<<2,w=R*(S=D[u]),x=R*(M=D[u+1]),T=R*(B=D[u+2]),$=R*(I=D[u+3]),g+=E*S,v+=E*M,y+=E*B,b+=E*I,A=N,d=0;R>d;d++)A.r=S,A.g=M,A.b=B,A.a=I,A=A.next;for(f=a,d=1;s>=d;d++)u=f+c<<2,g+=(A.r=S=D[u])*(z=R-d),v+=(A.g=M=D[u+1])*z,y+=(A.b=B=D[u+2])*z,b+=(A.a=I=D[u+3])*z,C+=S,k+=M,_+=B,L+=I,A=A.next,O>d&&(f+=a);for(u=c,U=N,j=G,h=0;n>h;h++)p=u<<2,D[p+3]=I=b*F>>H,I>0?(I=255/I,D[p]=(g*F>>H)*I,D[p+1]=(v*F>>H)*I,D[p+2]=(y*F>>H)*I):D[p]=D[p+1]=D[p+2]=0,g-=w,v-=x,y-=T,b-=$,w-=U.r,x-=U.g,T-=U.b,$-=U.a,p=c+((p=h+R)<O?p:O)*a<<2,g+=C+=U.r=D[p],v+=k+=U.g=D[p+1],y+=_+=U.b=D[p+2],b+=L+=U.a=D[p+3],U=U.next,w+=S=j.r,x+=M=j.g,T+=B=j.b,$+=I=j.a,C-=S,k-=M,_-=B,L-=I,j=j.next,u+=a}o.putImageData(r,t,i)}}function stackBlurCanvasRGB(e,t,i,a,n,s){if(!(isNaN(s)||1>s)){s|=0;var r,e=e,o=e.getContext("2d");try{try{r=o.getImageData(t,i,a,n)}catch(l){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),r=o.getImageData(t,i,a,n)}catch(l){throw alert("Cannot access local image"),new Error("unable to access local image data: "+l)}}}catch(l){throw alert("Cannot access image"),new Error("unable to access image data: "+l)}var c,h,d,p,f,u,m,g,v,y,b,w,x,T,$,C,k,_,L,S,M=r.data,B=s+s+1,I=a-1,z=n-1,D=s+1,q=D*(D+1)/2,P=new BlurStack,O=P;for(d=1;B>d;d++)if(O=O.next=new BlurStack,d==D)var R=O;O.next=P;var E=null,N=null;m=u=0;var A=mul_table[s],G=shg_table[s];for(h=0;n>h;h++){for(T=$=C=g=v=y=0,b=D*(k=M[u]),w=D*(_=M[u+1]),x=D*(L=M[u+2]),g+=q*k,v+=q*_,y+=q*L,O=P,d=0;D>d;d++)O.r=k,O.g=_,O.b=L,O=O.next;for(d=1;D>d;d++)p=u+((d>I?I:d)<<2),g+=(O.r=k=M[p])*(S=D-d),v+=(O.g=_=M[p+1])*S,y+=(O.b=L=M[p+2])*S,T+=k,$+=_,C+=L,O=O.next;for(E=P,N=R,c=0;a>c;c++)M[u]=g*A>>G,M[u+1]=v*A>>G,M[u+2]=y*A>>G,g-=b,v-=w,y-=x,b-=E.r,w-=E.g,x-=E.b,p=m+((p=c+s+1)<I?p:I)<<2,T+=E.r=M[p],$+=E.g=M[p+1],C+=E.b=M[p+2],g+=T,v+=$,y+=C,E=E.next,b+=k=N.r,w+=_=N.g,x+=L=N.b,T-=k,$-=_,C-=L,N=N.next,u+=4;m+=a}for(c=0;a>c;c++){for($=C=T=v=y=g=0,u=c<<2,b=D*(k=M[u]),w=D*(_=M[u+1]),x=D*(L=M[u+2]),g+=q*k,v+=q*_,y+=q*L,O=P,d=0;D>d;d++)O.r=k,O.g=_,O.b=L,O=O.next;for(f=a,d=1;s>=d;d++)u=f+c<<2,g+=(O.r=k=M[u])*(S=D-d),v+=(O.g=_=M[u+1])*S,y+=(O.b=L=M[u+2])*S,T+=k,$+=_,C+=L,O=O.next,z>d&&(f+=a);for(u=c,E=P,N=R,h=0;n>h;h++)p=u<<2,M[p]=g*A>>G,M[p+1]=v*A>>G,M[p+2]=y*A>>G,g-=b,v-=w,y-=x,b-=E.r,w-=E.g,x-=E.b,p=c+((p=h+D)<z?p:z)*a<<2,g+=T+=E.r=M[p],v+=$+=E.g=M[p+1],y+=C+=E.b=M[p+2],E=E.next,b+=k=N.r,w+=_=N.g,x+=L=N.b,T-=k,$-=_,C-=L,N=N.next,u+=a}o.putImageData(r,t,i)}}function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];!function(e){function t(){e("body").addClass("menu-open");var t=e(".container"),i=e(".mobile-menu").children("li");TweenLite.set(i,{x:250,opacity:.5}),TweenLite.to(t,.3,{x:-250,ease:Power3.easeOut});for(var a=0;a<i.length;a++)TweenLite.to(i[a],.2,{x:0,opacity:1,delay:.075*a+.05})}function i(){e("body").removeClass("menu-open"),TweenLite.to(e(".container"),.3,{x:0,ease:Power3.easeOut})}function a(e){var t=e.children("li"),i=31*t.length+8;TweenLite.set(t,{x:150,opacity:.5}),TweenLite.to(e,.25,{height:i,ease:Power3.easeOut});for(var a=0;a<t.length;a++)TweenLite.to(t[a],.2,{x:0,opacity:1,delay:.06*a+.025})}function n(e){TweenLite.to(e,.25,{height:0,ease:Power3.easeOut})}function s(t){this.$el=e(t)}function r(){console.log("shooting bananas");for(var t=.8,i=Math.ceil(4*Math.random()+1),a=[0,-20],n=e(".bananas"),s=0;i>s;s++){var r=e('<div class="shooting-banana" />'),l=10*(.5-Math.random()),c=20*-Math.random();console.log("initial x velocity:",l+", initial y velocity:",c),n.append(r),o(r,a,l,c,t)}}function o(e,t,i,a,n){var s=t[0]+i,r=t[1]+a,l="matrix(1, 0, 0, 1, "+s+", "+r+")";a+=n,e[0].style.webkitTransform=l,e[0].style.MozTransform=l,e[0].style.msTransform=l,e[0].style.OTransform=l,e[0].style.transform=l,20>r?requestAnimationFrame(function(){o(e,[s,r],i,a,n)}):e.remove()}var l=740,c=480;if(Modernizr.touch&&e(".main-nav").on("focus, click",".has-dropdown > a",function(t){t.preventDefault(),e(this).parent("li").toggleClass("active")}).on("mouseout",function(){e(this).parent("li").removeClass("active")}),e(".mobile-menu").on("click",".has-dropdown > a",function(t){t.preventDefault();var i=e(this);i.parent("li").hasClass("active")?(i.parent("li").removeClass("active"),n(i.siblings("ul"))):(n(h.find(".has-dropdown.active ul")),h.find(".has-dropdown").removeClass("active"),i.parent("li").addClass("active"),a(i.siblings("ul")))}),Modernizr.mq("only screen and (max-width:"+l+"px)")){console.log("medium screen or down");var h=e(".mobile-menu"),d=e(".main-menu").children("li");h.append(d),e(".mobile-menu-trigger").on("click",function(a){a.preventDefault(),e(this).hasClass("active")?(e(this).removeClass("active"),i()):(e(this).addClass("active"),t())})}e(".input-wrapper").on("focus","input, textarea",function(){e(this).parent(".input-wrapper").addClass("focused")}).on("blur","input, textarea",function(){e(this).parent(".input-wrapper").removeClass("focused")}),e(".select-box").on("change","select",function(){this.value?e(this).parent(".select-box").addClass("selected"):e(this).parent(".select-box").removeClass("selected")}),e(".date-input input").datepicker({autoclose:!0,format:"mm/dd/yyyy"}).on("changeDate",function(){e(this).parent().addClass("selected")}),e(".input-switch").on("change",function(){var t=e(this).data("switchto"),i=e(this).parents(".row").find(".switch-target");i.removeClass("active").filter("#"+t).addClass("active")});var p=new plupload.Uploader({runtimes:"html5,flash,silverlight,html4",browse_button:e(".add-files")[0],container:e(".uploaded-files")[0],url:"/examples/upload",filters:{max_file_size:"50mb",mime_types:[{title:"Image files",extensions:"jpg,gif,png"},{title:"Zip files",extensions:"zip"}]},flash_swf_url:"/bower_components/plupload/js/Moxie.swf",silverlight_xap_url:"/bower_components/plupload/js/Moxie.xap",init:{PostInit:function(){e(".upload").on("click",function(){return p.start(),!1})},FilesAdded:function(t,i){plupload.each(i,function(t){e(".uploaded-files").append('<div id="'+t.id+'">'+t.name+" ("+plupload.formatSize(t.size)+")</div>")})},UploadProgress:function(e,t){console.log("percent complete:",t.percent)},Error:function(e,t){console.log("error:",t.code,t.message)}}});p.init(),e(".request-quote-form").length>0&&(e(".request-quote-form").validationEngine("attach",{showArrow:!1,binded:!1,promptPosition:"bottomLeft",custom_error_messages:{required:{message:"Oops, looks like you forgot to add this field"},"#url":{"custom[url]":{message:"That doesn't look like the URLs we're used to."}}}}),e(".request-quote-form").on("blur",".form-part1 input",function(){var t=e(this),i=e(".request-quote-form").find(".monkee-step"),a=e(".request-quote-form").find(".monkee"),n=!t.validationEngine("validate");n?t.parent().is(":last-child")&&t.parents(".form-step").addClass("complete"):t.parents(".form-step").removeClass("complete");var s=i.filter(".complete").length;if(s>0){var r=1-s/i.length;a.children(".dark-monkee").css("opacity",r),console.log("opacity should be",r)}s===i.length?a.addClass("speak"):a.removeClass("speak")}));var f=function(t){this.$el=e(t),this.$screenContainer=this.$el.find(".screens"),this.$screens=this.$screenContainer.children(".screen"),this.$thumbs=this.$el.find(".thumbs"),this.ratios={desktop:.727,tablet:1.328,phone:2.08},this.margin=160,this.width=this.$screenContainer.width(),this.thumbRatio=.2,this.activeSlide="desktop",this.siteName=this.$el.data("site")};if(f.prototype._getX=function(t,i,a){var n=(this.width-e(i).width()*a)/2;return"left"==t?-n:n},f.prototype._moveSlide=function(e,t,i){var a=i?i:this.thumbRatio,n="active"==t?1:a,s="active"==t?0:this._getX(t,e,a);console.log("moving slide",e,"to position",t),TweenLite.to(e,.5,{scale:n,x:s})},f.prototype.transitionSlides=function(e){this.$screenContainer.hasClass("initial")&&this.$screenContainer.removeClass("initial");for(var t in this.$screens){var i,a=this.$screens[t],n=a.hasClass("active")?"active":a.hasClass("right")?"right":"left";i="active"==n&&"right"==e||"right"==n&&"left"==e?"left":"left"==n&&"right"==e||"active"==n&&"left"==e?"right":"active","active"==n||"active"==i?a.css("z-index",2):a.css("z-index",1),this._moveSlide(a,i),a.removeClass(n).addClass(i)}},f.prototype.updateScreen=function(e){for(var t in this.$screens){var i=this.$screens[t].children(".screen-inner"),a="/uploads/portfolio/"+t+"_image_"+e+".png",n=document.createElement("img");n.src=a,i.html(n)}},f.prototype.initFullSlider=function(){var t=this.width-2*this.margin,i=this.$screenContainer.height(),a=this,n=0,s={};this.$screens.each(function(){var r=e(this),o=r.data("device");r.hasClass("horizontal")&&(a.ratios[o]=1/a.ratios[o]);var l=a.ratios[o]>1?i:t*a.ratios[o],c=a.ratios[o]<1?t:i/a.ratios[o];r.css({height:l+"px",width:c+"px",left:t/2-c/2+a.margin+"px",top:i/2-l/2+"px"}),s[o]=r,n++}),this.$screens=s,console.log("there are this many screens:",n),n>2&&(a._moveSlide(this.$screens.phone,"left",.6),a._moveSlide(this.$screens.tablet,"right",.6),e(".slider-nav").on("click","a",function(t){t.preventDefault(),a.transitionSlides(e(this).hasClass("port-left")?"left":"right"),a.$screens.desktop.find(".scroll-msg").length>0&&a.$screens.desktop.find(".scroll-msg").remove()}))},f.prototype.initMobileSlider=function(){var t=this.width,i=this,a={};this.$screens.each(function(){var n=e(this),s=n.data("device"),r=null,o=null,l=0,c=0;return"tablet"==s?!0:("desktop"==s?(o=1.2*t,r=o*i.ratios[s],l=.2*t):"phone"==s&&(o=.4*t,r=o*i.ratios[s],c=.15*r,l=.05*t),n.css({height:r+"px",width:o+"px",left:l+"px",top:c+"px"}),void(a[s]=n))}),this.$screens=a},f.prototype.init=function(){var t=this;Modernizr.mq("only screen and (min-width: "+c+"px)")?this.initFullSlider():this.initMobileSlider(),this.$thumbs.find(".thumbnail:first").addClass("active"),this.$thumbs.on("click",".thumbnail",function(i){i.preventDefault(),t.$thumbs.find(".thumbnail").removeClass("active"),e(this).addClass("active");var a=e(this).data("screen");t.updateScreen(a)});var i=this.$screenContainer.find(".scroll-msg");i.length>0&&i.parent(".screen-inner").on("scroll",function(){e(this).children(".scroll-msg").remove(),e(this).off("scroll")})},e(".port-slider").length>0){var u=new f(".port-slider");u.init()}e(".quote-slider").slick({dots:!0,arrows:!1,infinite:!0,speed:300,slidesToShow:1,slide:"li"}),e(".thumbs-slider").slick({dots:!0,arrows:!1,slidesToShow:3,infinite:!1,swipeToSlide:!0}),e(".fullwidth-slider ul").slick({dots:!1,arrows:!1,slidesToShow:1,slide:"li",centerMode:!0,centerPadding:"140px",responsive:[{breakpoint:c,settings:{dots:!1,arrows:!1,infinite:!0,slidesToShow:1,slide:"li",centerMode:!0,centerPadding:"80px"}}]});var m=function(t){this.$el=e(t),this.$circles=this.$el.find(".circle"),this.$expander=this.$el.find(".circle-expander"),this.$cur_circle=null};m.prototype._placeBG=function(){var t=this.$el.offset(),i=this.$el.width(),a=this.$el.height();this.$circles.each(function(){var n=e(this),s=n.offset(),r=n.children(".bg");r.css({top:t.top-s.top+"px",left:t.left-s.left+"px",width:i+"px",height:a+"px"})})},m.prototype._animateInTitle=function(e){var t=this,i=this.$expander.children(".title-overlay"),a=this.$cur_circle.data("name"),n=this.$expander.children(".expander-nav").children("a").not("."+a);TweenLite.set(n.last(),{x:160,right:4,left:"auto",delay:e}),TweenLite.set(n.first(),{x:-160,left:4,right:"auto",delay:e,onComplete:function(){i.html(t.$cur_circle.siblings(".tagline").html())}}),TweenLite.to(i,.5,{y:40,delay:e,ease:Back.easeOut}),TweenLite.to(n,.15,{x:0,delay:e+.5})},m.prototype._animateOutTitle=function(){var e=this.$expander.children(".title-overlay"),t=this.$cur_circle.data("name"),i=this.$expander.children(".expander-nav").children("a").not("."+t);TweenLite.to(e,.5,{y:e.outerHeight()}),TweenLite.to(i.first(),.15,{x:-160}),TweenLite.to(i.last(),.15,{x:160})},m.prototype._animateIn=function(t){var i=e(t),a=i.siblings(".border"),n=i.children(".bg").data("bg");this.$cur_circle=i,this.$expander.css("z-index",4),this.$expander.children(".bg").css("background-image","url("+n+")"),i.parent("li").addClass("active"),TweenLite.to(a,.3,{scale:7}),TweenLite.to(this.$expander,.5,{opacity:1,delay:.5,onComplete:function(){TweenLite.set(a,{scale:1})}}),this._animateInTitle(1)},m.prototype._animateOut=function(){var e=this;this.$el.find("li").removeClass("active"),this._animateOutTitle(),TweenLite.to(this.$expander,.5,{opacity:0,delay:.5,onComplete:function(){e.$expander.css({"z-index":-1})}})},m.prototype._animateSwitch=function(t){this._animateOutTitle(),this.$cur_circle=e(t);var i=this.$cur_circle.children(".bg").data("bg"),a=this.$expander.children(".bg");this.$el.find("li").removeClass("active"),this.$cur_circle.parent("li").addClass("active"),TweenLite.to(a,.3,{opacity:0,delay:.5,onComplete:function(){a.css("background-image","url("+i+")"),TweenLite.to(a,.3,{opacity:1})}}),this._animateInTitle(1)},m.prototype.init=function(){var t=this;this._placeBG(),this.$el.on("click",".circle",function(){t._animateIn(this)}),this.$el.find(".close-btn").on("click",function(e){e.preventDefault(),t._animateOut()}),this.$expander.children(".expander-nav").on("click","a",function(i){i.preventDefault();var a=e(this).attr("class"),n=t.$el.find("ul ."+a);console.log("new class is",a,"new circle is",n[0]),t._animateSwitch(n)})},m.prototype.initMobile=function(){var t=this,i=this.$el.find(".mobile-slider");this.$el.on("click",".circle",function(){var a=e(this),n=a.children(".bg").data("bg");t.$circles.removeClass("active"),a.addClass("active"),i.html("<div>"+a.siblings(".tagline").html()+"</div>"),i.css("background-image","url("+n+")")}),this.$circles.first().trigger("click")};var g=new m(".hero-circles");Modernizr.mq("only screen and (min-width: "+c+"px)")?g.init():g.initMobile(),e(".troop-list").on("click",".trigger",function(t){t.preventDefault();var i=e(this),a=i.parent(),n=i.parents(".troop-list"),s=i.siblings(".profile-content");if(a.hasClass("active"))return a.removeClass("active"),void n.children("li").removeClass("inactive");n.children("li").not(a).removeClass("active").addClass("inactive"),a.removeClass("inactive").addClass("active");var r=a.position().top+a.outerHeight();s.css("top",r+"px")});var v=e(".accordion");if(v.length>0&&(v.each(function(){var t=e(this),i=t.children(".content").outerHeight();t.data("content-height",i),t.children(".content").css("height",0)}),v.on("click",".trigger",function(t){t.preventDefault();var i=e(this).parent(".accordion"),a=i.children(".content"),n=i.data("content-height");i.hasClass("open")?(i.removeClass("open"),n=0):i.addClass("open"),TweenLite.to(a,.5,{height:n,ease:Power3.easeOut})})),s.prototype.blurImage=function(){console.log("blur image"),this.$image=this.$el.find(".image-bg");var t=this;this.$image.on("load",function(){var i=t.$el.outerWidth(),a=t.$el.outerHeight(),n=t.$image.width(),s=t.$image.height(),r=0,o=0,l=0,c=0;if(n/s>i/a?(r=a*(n/s),o=a,l=-(r-i)/2):(r=i,o=i*(s/n),c=-(o-a)/2),t.$image.css({width:r+"px",height:o+"px",left:l+"px",top:c+"px",display:"block"}),Modernizr.canvas&&!Modernizr.touch){var h=document.createElement("canvas");h.width=r,h.height=o,h.style.left=l+"px",h.style.top=c+"px",t.$el.append(h);var d=e(window),p=new TweenLite.to(h,1,{opacity:1,paused:!0}),f=function(){var e=d.scrollTop(),i=1/(t.$el.height()-80)*e;i>=0&&1>=i&&p.progress(i)};stackBlurImage(t.$image[0],h,40,!1),d.on("scroll",f)}}).each(function(){})},e(".blur-image").length>0){var y=new s(".blur-image");y.blurImage()}if(e("#contact-map").length>0){var b=[{featureType:"landscape",elementType:"all",stylers:[{color:"#dbf1ee"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b4d7e6"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#69bfb2"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"all",stylers:[{color:"#ffffff"},{visibility:"simplified"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#bcca7f"},{visibility:"on"}]},{featureType:"road.local",elementType:"all",stylers:[{color:"#d6ebe8"},{visibility:"off"}]},{featureType:"poi.attraction",elementType:"geometry.fill",stylers:[{color:"#cce5e1"},{visibility:"on"}]},{featureType:"poi.place_of_worship",elementType:"geometry.fill",stylers:[{color:"#cce5e1"},{visibility:"on"}]},{featureType:"poi.government",elementType:"geometry.fill",stylers:[{color:"#cce5e1"},{visibility:"on"}]},{featureType:"poi.school",elementType:"geometry.fill",stylers:[{color:"#cce5e1"},{visibility:"on"}]},{featureType:"poi.business",elementType:"geometry.fill",stylers:[{color:"#bcd7d2"},{visibility:"on"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#e5fbf8"},{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{hue:"#ffffff"},{saturation:-100},{lightness:100},{visibility:"off"}]},{featureType:"transit",elementType:"labels",stylers:[{hue:"#ffffff"},{saturation:0},{lightness:100},{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#e6faf8"},{visibility:"off"}]},{featureType:"administrative.neighborhood",elementType:"labels.text.fill",stylers:[{color:"#42454c"},{visibility:"on"}]},{featureType:"road.local",elementType:"all",stylers:[{color:"#cbe7e3"},{visibility:"simplified"}]}],w=new google.maps.LatLng(30.383294,-97.743659),x="/images/map-marker.png",T=new google.maps.Map(document.getElementById("contact-map"),{zoom:14,center:w,styles:b}),$=new google.maps.Marker({map:T,animation:google.maps.Animation.DROP,position:w,icon:x});$.setMap(T)}e(".bananas").on("mouseenter",r)}(jQuery);